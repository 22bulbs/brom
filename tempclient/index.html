<!DOCTYPE html>
<html>

  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Webhead</title>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.1/socket.io.dev.js"></script>
  </head>

  <body>
    <pre id="render">[]</pre>
    <script type="text/javascript">
      const socket = io();
      socket.on('transaction', transaction => {
        const toInsert = Array.isArray(transaction)
          ? transaction
          : [transaction];

        const display = document.getElementById('render');
        const content = JSON.parse(display.innerHTML);
        content.push(...toInsert);

        display.innerHTML = JSON.stringify(content, null, 2);
      });
    </script>
  </body>

</html>
